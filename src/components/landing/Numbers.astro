<section class="py-10 bg-gray-100 dark:bg-gray-900 sm:py-16 lg:py-24">
  <div class="max-w-5xl px-4 mx-auto sm:px-6 lg:px-8">
    <div class="max-w-2xl mx-auto text-center">
      <h2
        class="text-3xl font-bold leading-tight text-black dark:text-white sm:text-4xl lg:text-5xl"
      >
        Numbers tell our story
      </h2>
      <p
        class="mt-3 text-xl leading-relaxed text-gray-600 dark:text-gray-300 md:mt-8"
      >
        Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
        sint. Velit officia consequat duis.
      </p>
    </div>

    <div
      class="grid grid-cols-1 gap-8 mt-10 text-center lg:mt-24 sm:gap-x-8 md:grid-cols-3"
    >
      <div>
        <h3 class="font-bold text-7xl">
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-blue-600"
            data-target="6"
          >
            0
          </span>+
        </h3>
        <p class="mt-4 text-xl font-medium text-gray-900 dark:text-gray-300">
          Years in business
        </p>
        <p class="text-base mt-0.5 text-gray-500 dark:text-gray-400">
          Creating the successful path
        </p>
      </div>

      <div>
        <h3 class="font-bold text-7xl">
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-blue-600"
            data-target="4821"
          >
            0
          </span>
        </h3>
        <p class="mt-4 text-xl font-medium text-gray-900 dark:text-gray-300">
          Projects delivered
        </p>
        <p class="text-base mt-0.5 text-gray-500 dark:text-gray-400">
          In last 6 years
        </p>
      </div>

      <div>
        <h3 class="font-bold text-7xl">
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-blue-600"
            data-target="37"
          >
            0
          </span>+
        </h3>
        <p class="mt-4 text-xl font-medium text-gray-900 dark:text-gray-300">
          Team members
        </p>
        <p class="text-base mt-0.5 text-gray-500 dark:text-gray-400">
          Working for your success
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Script para la animación de números -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const counters =
      document.querySelectorAll<HTMLSpanElement>("span[data-target]");

    const animateCounter = (counter: HTMLSpanElement) => {
      const target = +counter.getAttribute("data-target")!;
      const increment = target / 100;

      const updateCounter = () => {
        const current = +counter.innerText;
        if (current < target) {
          counter.innerText = Math.ceil(current + increment).toString();
          setTimeout(updateCounter, 20); // Velocidad de actualización
        } else {
          counter.innerText = target.toString();
        }
      };

      updateCounter();
    };

    const options = {
      threshold: 0.5, // Se activa cuando el 50% del elemento es visible
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const counterDiv =
            entry.target.querySelector<HTMLSpanElement>("span[data-target]");
          if (counterDiv) {
            animateCounter(counterDiv);
            observer.unobserve(entry.target); // Dejar de observar una vez que la animación ha comenzado
          }
        }
      });
    }, options);

    counters.forEach((counter) => {
      const parentDiv = counter.closest("div");
      if (parentDiv) {
        observer.observe(parentDiv);
      }
    });
  });
</script>
